<p-table [value]="users?.data" [paginator]="true" [rows]="itemsPerPage" [totalRecords]="users?.total"
    [loading]="loading" [responsiveLayout]="'scroll'" class="p-datatable-striped">
    <ng-template pTemplate="caption">
        <div class="flex justify-between items-center mb-2">
            <span class="p-input-icon-left w-full">
                <i class="pi pi-search"></i>
                <input type="text" pInputText [formControl]="searchControl" placeholder="Пошук..." class="w-full" />
            </span>
        </div>
    </ng-template>


    <ng-template pTemplate="header">
        <tr>
            <th>ПІБ</th>
            <th>Емейл</th>
            <th>Аватар</th>
            <th>Факультет</th>
            <th>Курс</th>
            <th>Активний</th>
            <th>Дата останнього входу</th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-user>
        <tr (click)="navigateToUser(user.id)" class="cursor-pointer">
            <td>{{ user.fullName }}</td>
            <td>{{ user.email }}</td>
            <td>
                <img [src]="user.picture" alt="Avatar" class="w-10 h-10 rounded-full" />
            </td>
            <td>{{ user.faculty }}</td>
            <td>{{ user.course }}</td>
            <td>{{ user.isActive | boolToLogicalText }}</td>
            <td>{{ user.lastLoginDateTimeUtc | utcToLocal}}</td>
        </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
        <tr class="w-full text-center">
            <td class="" colspan="5">Користувачів не знайдено.</td>
        </tr>
    </ng-template>
</p-table>