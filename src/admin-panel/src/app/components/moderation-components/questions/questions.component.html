<ng-container *ngIf="(loading$ | async) === false; else loading">
    <app-moderation-header buttonLabel="–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è" (handleAdd)="handleOpenModal()"></app-moderation-header>

    <!-- Questions -->
    <div class="h-fit w-full pt-10">
        <app-question *ngFor="let item of questions$ | async" [question]="item"></app-question>
    </div>

    <!-- New question form -->
    <p-dialog header="–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è!" [(visible)]="modal" [modal]="true" [style]="{width: '50vw'}"
        (onHide)="handleCloseModal()">
        <div class="w-11/12 mx-auto" [formGroup]="questionForm">
            <div class="mb-3">
                <input pInputText placeholder="–í–≤–µ–¥—ñ—Ç—å —Å–∞–º–µ –ø–∏—Ç–∞–Ω–Ω—è..." class="w-full" formControlName="questionText"
                    [ngClass]="{'border-red-500': questionForm.get('questionText').invalid && questionForm.get('questionText').touched}" />
                <small *ngIf="questionForm.get('questionText').invalid && questionForm.get('questionText').touched"
                    class="text-red-500">
                    –ü–æ–ª–µ –ø–∏—Ç–∞–Ω–Ω—è —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º.
                </small>
            </div>
            <div class="mb-3">
                <app-editor placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è..." controlName="answer" [mode]="'simple'"
                    [isInvalid]="questionForm.get('answer').invalid && questionForm.get('answer').touched"></app-editor>
                <small
                    *ngIf="questionForm.get('answer').invalid && questionForm.get('answer').touched"
                    class="text-red-500">
                    –ü–æ–ª–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º.
                </small>
            </div>
            <p-button label="–ó–±–µ—Ä–µ–≥—Ç–∏ üòâ" (onClick)="create()" styleClass="my-5 w-full"
                [disabled]="this.questionForm.invalid" />
        </div>
    </p-dialog>
</ng-container>
<ng-template #loading>
    <app-loader></app-loader>
</ng-template>
